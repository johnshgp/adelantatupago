<?xml version="1.0" encoding="UTF-8"?>
<odoo>

	<record model="ir.ui.view" id="import_payments_view_form">
		<field name="name">import.payments.view.form</field>
		<field name="model">import.payments</field>
		<field name="arch" type="xml">
			<form string="Importar Pagos">
				<header>
					<button name="btn_process" type="object" string="Procesar" states="draft" />
					<button name="btn_validated_reconciled" type="object" string="Validar pagos y Conciliar" states="processed"/>
					<field name="state" widget="statusbar" />
				</header>
				<sheet>
					<group>
						<field name="name" />
						<field name="payments_file" widget="binary"/>
						<field name="delimiter" />
						<field name="skip_first_line" />
					</group>
					<notebook>
						<page string="Contenido" >
							<field name="file_content" readonly="1"/>
						</page>
						<page string="No procesadas">
							<field name="not_processed_content" readonly="1"/>
						</page>
                        <page string="Pagos Cargadas">
                                <field name="pagos_creados" readonly="1"/>
                        </page>
					</notebook>
				</sheet>
			</form>
		</field>
	</record>

	<record model="ir.ui.view" id="import_payments_tree">
		<field name="name">import.payments.view.tree</field>
		<field name="model">import.payments</field>
		<field name="arch" type="xml">
		<tree string="Import payments">
			<field name="name" />
			<field name="payments_file" />
			<field name="state" />
		</tree>
		</field>
	</record>

	<record model="ir.actions.act_window" id="action_import_payments">
		<field name="name">Importar Pagos</field>
		<field name="res_model">import.payments</field>
		<field name="view_mode">tree,form</field>
	</record>


	<menuitem name="Carga de Pagos" id="carga_pagos_menu"
		parent="account.menu_finance_receivables"
		action="action_import_payments"
		sequence="101"/>

</odoo>
